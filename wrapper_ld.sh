### SNPLISTs look like this:
head SNPLIST.22
ENSG00000015475 22 rs1080199 rs35287399 rs2535710 rs2535674 rs2587094 rs2535678 rs2535688 rs725769 rs725770 rs395379 rs181396 rs432517 rs1296682 rs4819778 rs807673
ENSG00000069998 22 rs181385 rs5992838
ENSG00000070371 22 rs4819781 rs11704735 rs5746671 rs11089258 rs8141941 rs9605957 rs2800994 rs2800991 rs2518865 rs2793055 rs2518860 rs2800977 rs2518861 rs2518862 rs73160230 rs5748088 rs45579934 rs73160231 rs73160233 rs4819792 rs5748099 rs11912880 rs11704438 rs189937890 rs7286948 rs8141909 rs7292766 rs68149483 rs11089273 rs73381769 rs9618567 rs111802956 rs12168943 rs61142054
ENSG00000075234 22 rs135170 rs9615933 rs11090858 rs6008497 rs56277078 rs9627387 rs6007794 rs12169251 rs73886791 rs73886794 rs11090859 rs147696491 rs6008552 rs6008553 rs9615939 rs7284687 rs28576670 rs55832024 rs58704441
ENSG00000075240 22 rs62233280 rs11090757
ENSG00000093072 22 rs5747018 rs17807317 rs73876685 rs12160465 rs5747167 rs433047 rs454921 rs2034297 rs2034298 rs2034299
ENSG00000099917 22 rs2075273 rs431319
ENSG00000099957 22 rs2269779 rs11704198 rs12484759 rs71314757 rs11705674 rs9625334 rs9620740 rs73877675 rs9607484 rs115588461
ENSG00000099968 22 rs9605382 rs5992787 rs5992789 rs9604785 rs5992091 rs5992791 rs5992092 rs5992093 rs12160637 rs5992094 rs5992793 rs5992795 rs9617611 rs5992797 rs5992096 rs2401168 rs2535710 rs5992799 rs5992800 rs5992801 rs2535674 rs9605385 rs2587094 rs2535678 rs2587095 rs67425478 rs2587096 rs35702373 rs34226217 rs2535681 rs2535685 rs2907923 rs395379 rs181398 rs432517 rs1296682 rs5992838 rs2540648
ENSG00000099977 22 rs17004047 rs5751766 rs6003949 rs5751771 rs5751775 rs5760120 rs5751776 rs5751777 rs5996632 rs113413 rs80020284 rs6004011 rs2236624 rs4822545 rs4822549 rs8135522 rs5996769

#######

zcat /sc/orga/projects/CommonMind/lhuckins/CM5-chr22_imputed.dos.id.gz | head -1 > header

for ((i=1; i<=113; i++))

do

if [ -e $gene.ld ]
then

    echo "Already Done!"

else


  gene=$(head -$i SNPLIST.$chr | tail -1 | awk '{print $1}')

  head -$i SNPLIST.$chr | tail -1 | awk '{$1=""; $2=""; print $0}' | tr ' ' '\n' | sort -u | sed "1d" > snps.tmp

  zcat /sc/orga/projects/CommonMind/lhuckins/CM5-chr22_imputed.dos.id.gz | fgrep -wf snps.tmp - >> $gene.dosage

  nsnps=$(wc -l snps.tmp | awk '{print $1}')

  ./run_ld.py $nsnps $gene

  rm snps.tmp

fi

done
